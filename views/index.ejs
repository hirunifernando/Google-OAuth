<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="/assets/metro/css/metro-all.min.css">

    <script src="/assets/metro/js/metro.min.js" async defer></script>
    <script src="/assets/jquery.min.js" async defer></script>

    <style>
        .login-form {
            width: 350px;
            height: auto;
            top: 50%;
            margin-top: 100px;
        }
    </style>
</head>

<body>
    <form class="login-form bg-white p-6 mx-auto border bd-default win-shadow" data-role="validator" action="javascript:"
        data-clear-invalid="2000" data-on-error-form="invalidForm" data-on-validate-form="validateForm">
        <span class="mif-vpn-lock mif-4x place-right" style="margin-top: -10px;"></span>
        <h2 class="text-light">Login to service</h2>
        <hr class="thin mt-4 mb-4 bg-white">
        <div class="form-group">
            <input type="text" data-role="input" data-prepend="<span class='mif-envelop'>" placeholder="Enter your email..."
                data-validate="required email">
        </div>
        <div class="form-group">
            <input type="password" data-role="input" data-prepend="<span class='mif-key'>" placeholder="Enter your password..."
                data-validate="required minlength=6">
        </div>
        <div class="form-group mt-12">
            <button type="button" id="signinGoogle" class="button success" style="width: 100%;">Login with Google</button>

        </div>
        
        <div class="form-group mt-10">
            <input type="checkbox" data-role="checkbox" data-caption="Remember me" class="place-right">
            <button class="button">Submit form</button>
        </div>
    </form>


    <script>

        let SCOPE = "https://www.googleapis.com/auth/userinfo.profile";
        let REDIRECT_URL = "http://localhost:3000/oauth/auth";
        let CLIENT_ID = "774817818855-n7572o3igqmbsbi1comlu1a96eieolkl.apps.googleusercontent.com";


        function invalidForm() {
            var form = $(this);
            form.addClass("ani-ring");
            setTimeout(function () {
                form.removeClass("ani-ring");
            }, 1000);
        }
        function validateForm() {
            $(".login-form").animate({
                opacity: 0
            });
        }

        $(document).ready(function(){

            $("#signinGoogle").click(function(){


                window.open("https://accounts.google.com/o/oauth2/v2/auth?scope="+SCOPE
                +"&include_granted_scopes=true&state=state_parameter_passthrough_value&redirect_uri="+REDIRECT_URL
                +"&response_type=token&client_id="+CLIENT_ID,"_self")


            });


        })
    </script>


</body>

</html>